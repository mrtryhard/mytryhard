var PartialLoader={internalLoadingTimer:null,loadPanel:function(e){PartialLoader.internalTimerStop();var t=document.getElementById("admin-container");t.innerHTML=e},timerStart:function(){PartialLoader.loadPanel(WidgetUtils.showLoader()),PartialLoader.internalLoadingTimer=setTimeout(function(){PartialLoader.loadPanel(WidgetUtils.showMessage("error","Délai de requête dépassé."))},1e4)},internalTimerStop:function(){clearTimeout(PartialLoader.internalLoadingTimer),PartialLoader.internalLoadingTimer=null}},SideMenu={onLinkClick:function(e){var t=e.target;return t&&SideMenu.internalLoadPanel(t),!1},onSearchKeyUp:function(e){var t=e.target;t&&13===e.keyCode&&SideMenu.internalLoadPanel(t)},internalLoadPanel:function(e){var t=e.getAttribute("data-panel"),n=e.getAttribute("data-param"),a={panel:t,param:n};PartialLoader.timerStart(),t?Utils.getRawData(a,PartialLoader.loadPanel):PartialLoader.loadPanel(WidgetUtils.showMessage("error","Le lien est inexistant"))},bindListeners:function(){for(var e=document.querySelectorAll("section.admin-side a"),t=0;t<e.length;++t)e[t].addEventListener("click",SideMenu.onLinkClick);var n=document.getElementById("btnSubmitSearch");if(n){var a=document.getElementById("searchquery");n.addEventListener("click",SideMenu.onSearchSubmit),a.addEventListener("keyup",SideMenu.onSearchKeyUp)}}},AdminUtils={fillSEOFieldEvent:function(e,t){e=document.getElementById(e),t=document.getElementById(t);var n=StringUtils.generateSEOUrl(t.value);e.value=n}},Admin={documentReady:function(e){SideMenu.bindListeners();var t=document.getElementById("admin-container");if(t){var n=t.getAttribute("data-def-panel"),a=t.getAttribute("data-def-param");if(n){var r={panel:n,param:a};Utils.getRawData(r,PartialLoader.loadPanel)}}}};document.addEventListener("DOMContentLoaded",Admin.documentReady,!1);var Menu={onClick:function(e){var t=e.target;if(t){var n=t.getAttribute("data-href");window.location=n}},bindListeners:function(){for(var e=document.querySelectorAll("header nav ul li"),t=0;t<e.length;++t)e[t].addEventListener("click",Menu.onClick)}},Common={documentReady:function(e){Menu.bindListeners()}};document.addEventListener("DOMContentLoaded",Common.documentReady,!1);var Utils={getJsonData:function(e,t){var n=function(e){var n=JSON.parse(e);t&&t(n)};Utils.internalGetRawResponse(e,n)},getRawData:function(e,t){var n=e.panel;e.param&&(n=n+"/?param="+e.param),Utils.internalGetRawResponse(n,t)},internalGetRawResponse:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status||0===n.status)&&t&&t(""==n.responseText?WidgetUtils.showMessage("error","Délai d'attente dépassé."):n.responseText)},n.open("GET",e),n.send()}},StringUtils={generateSEOUrl:function(e){var t=e.toLowerCase();return t=t.replace(/[^a-z0-9\s-]/g,""),t=t.replace(/\s+/g," ").trim(),t=t.substring(0,t.length<=45?t.length:45),t=t.replace(/\s/g,"-")}},WidgetUtils={showLoader:function(){return'<div id="loader"></div>'},showMessage:function(e,t){return'<p class="message '+e+'">'+t+"</p>"}};