@using Microsoft.AspNetCore.Identity
@using System.Security.Claims

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <form asp-area="" asp-controller="Account" asp-action="LogOff" method="post" id="logoutForm" class="navbar-right">
        <span class="element">
            <button type="submit" asp-controller="account" asp-action="logoff" class="lnk">Se déconnecter</button>
        </span>

        @if (User.IsInRole("Admin"))
        {
            <span class="element">
                <a asp-controller="admin" asp-action="Index" class="lnk" title="Administration">Administration</a>
            </span>
        }

        <span class="element">
            <a asp-controller="manage" asp-action="index" class="lnk" title="Préférences">Préférences</a>
        </span>
    </form>
}
else
{
    <span class="element">
        <a asp-area="" asp-controller="account" asp-action="register" class="lnk" id="registerLink">S'inscrire</a>
    </span>
    <span class="element">
        <a asp-area="" asp-controller="account" asp-action="login" class="lnk" id="loginLink">Se connecter</a>
    </span>
}
